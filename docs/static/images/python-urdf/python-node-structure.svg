<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400">
  <style>
    .node { fill: #42b549; stroke: #2d7d2d; stroke-width: 2; rx: 10; ry: 10; }
    .component { fill: #00c9ff; stroke: #0078d7; stroke-width: 2; rx: 5; ry: 5; }
    .connection { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
    .label { font-family: Arial, sans-serif; font-size: 12px; fill: white; text-anchor: middle; }
    .label-black { font-family: Arial, sans-serif; font-size: 12px; fill: black; text-anchor: middle; font-weight: bold; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
      refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Main Python Process -->
  <rect x="50" y="50" width="600" height="300" fill="none" stroke="#ccc" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="350" y="40" class="label-black">ROS 2 Python Node Structure</text>

  <!-- Python Script -->
  <rect x="100" y="80" width="500" height="250" class="node"/>
  <text x="350" y="100" class="label">Python Script (.py)</text>

  <!-- rclpy initialization -->
  <rect x="130" y="130" width="150" height="40" class="component"/>
  <text x="205" y="155" class="label">rclpy.init()</text>

  <!-- Node class -->
  <rect x="320" y="130" width="220" height="40" class="component"/>
  <text x="430" y="155" class="label">Node Class (inherits from rclpy.node.Node)</text>

  <!-- Components inside Node -->
  <rect x="130" y="190" width="120" height="30" class="component"/>
  <text x="190" y="210" class="label">Publisher</text>

  <rect x="270" y="190" width="120" height="30" class="component"/>
  <text x="330" y="210" class="label">Subscriber</text>

  <rect x="410" y="190" width="120" height="30" class="component"/>
  <text x="470" y="210" class="label">Service</text>

  <rect x="130" y="240" width="120" height="30" class="component"/>
  <text x="190" y="260" class="label">Timer</text>

  <rect x="270" y="240" width="120" height="30" class="component"/>
  <text x="330" y="260" class="label">Parameters</text>

  <rect x="410" y="240" width="120" height="30" class="component"/>
  <text x="470" y="260" class="label">Callbacks</text>

  <!-- Main function -->
  <rect x="130" y="290" width="410" height="30" class="component"/>
  <text x="335" y="310" class="label">main() function with rclpy.spin()</text>

  <!-- Arrows showing relationships -->
  <line x1="205" y1="170" x2="205" y2="190" class="connection"/>
  <line x1="330" y1="170" x2="330" y2="190" class="connection"/>
  <line x1="470" y1="170" x2="470" y2="190" class="connection"/>
  <line x1="190" y1="220" x2="190" y2="240" class="connection"/>
  <line x1="330" y1="220" x2="330" y2="240" class="connection"/>
  <line x1="470" y1="220" x2="470" y2="240" class="connection"/>
  <line x1="335" y1="270" x2="335" y2="290" class="connection"/>

  <text x="350" y="380" font-family="Arial, sans-serif" font-size="12" fill="black" text-anchor="middle">
    Basic structure of a ROS 2 node implemented in Python using rclpy
  </text>
</svg>